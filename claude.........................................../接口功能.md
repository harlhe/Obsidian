好的，我已经分析完该项目的所有Controller接口，功能总结如下：

### 核心业务控制器

*   **`AppController`**: 应用管理。
    *   `/api/v1/apps`: 获取应用列表和分类。
    *   `/api/v1/apps/{appId}/{enabled}`: 启用/禁用应用。
*   **`ChatController`**: 聊天会话管理。
    *   `/api/v1/chat/histories`: 获取聊天历史。
    *   `/api/v1/chat/{chatUuid}`: 获取/删除/清空聊天详情。
    *   `/api/v1/chat/download/{chatUuid}`: 下载聊天记录。
*   **`CodeController` (V1-V4)**: 核心代码AI功能。
    *   **V1 (`/api/v1/code`)**: 提供基础的代码问答、解释、优化、点赞、统计和兼容用的隐私接口。
    *   **V2 (`/api/v2/code`)**: 在V1基础上增加了隐私协议验证。
    *   **V3 (`/api/v3/code`)**: 增加了代码补全、文件上传、知识库映射管理等功能。
    *   **V4 (`/api/v4/code`)**: 提供了新版的代码补全接口，采用手动隐私验证。
*   **`PromptController` (V1-V2)**: Prompt（提示词）管理。
    *   **V1 (`/api/v1/prompt`)**: 提供完整的Prompt增删改查、收藏、搜索、引用计数功能。
    *   **V2 (`/api/v2/prompt`)**: 作为API网关，将部分请求转发到后端的Prompt服务，也实现了部分本地管理功能。
*   **`KbaseController`**: 知识库管理。
    *   `/api/v1/kbase/buildKbaseIndex`: 构建知识库索引。
    *   `/api/v1/kbase/retrieve`: 检索知识库。
    *   `/api/v1/kbase/deleteKbaseIndex`: 删除索引。

### 系统与配置控制器

*   **`GlobalConfigController`**: 全局配置管理 (管理员)。
    *   `/api/v1/globalConfig/findAll`: 查询所有全局配置。
    *   `/api/v1/globalConfig/deleteAll`: 删除所有全局配置。
*   **`SystemConfigController`**: 系统配置查询。
    *   `/api/v1/sys`: 根据不同维度查询系统配置。
*   **`ModelController`**: AI模型配置管理 (管理员)。
    *   `/api/v1/model/**`: 对模型进行增删改查。
*   **`ModelRoutingRuleController`**: 模型路由规则管理 (管理员)。
    *   `/api/v1/model-routing-rules/**`: 对模型路由规则进行增删改查和批量操作。
*   **`CompleteExceptionConfigController`**: 代码补全异常配置 (管理员)。
    *   `/api/v1/completeExceptionConfig/**`: 配置和监控代码补全服务的异常状态。
*   **`SchedulerController`**: 定时任务管理。
    *   `/api/v1/scheduler/**`: 动态更新、启停、查询和单次执行定时任务。

### 用户与权限控制器

*   **`UserController`**: 用户信息管理 (管理员)。
    *   `/api/v1/user/**`: 对用户进行增删改查。
*   **`Oauth2Controller` & `Oauth2CallbackController`**: OAuth2认证。
    *   `/api/oauth2/redirectUrl`: 获取UAC登录认证URL。
    *   `/api/oauth2/authResult`: 客户端轮询获取认证结果。
    *   `/api/oauth2/loginResponse`: UAC登录成功后的回调接口。
    *   `/api/oauth2/selectTenant/{tenantId}`: 切换租户。
*   **`PrivacyController`**: 隐私协议管理。
    *   `/api/v1/privacy/pending`: 查询待签署的隐私协议。
    *   `/api/v1/privacy/signature`: 签署隐私协议。
*   **`WhiteListController`**: 通用白名单管理 (管理员)。
    *   `/api/v1/white-list/**`: 增删白名单。
*   **`FunctionWhiteAuthController`**: 功能级白名单管理 (管理员)。
    *   `/api/v1/functionWhiteAuth/**`: 对具体功能和用户的白名单进行管理。

### 其他功能控制器

*   **`CodeCommentController`**: 代码注释管理 (管理员)。
    *   `/api/v1/code-comments/**`: 对代码注释库进行增删改查。
*   **`FeedbackController`**: 用户反馈。
    *   `/api/v1/feedback/temp-ticket`: 获取用于“兴管家”反馈的临时票据。
*   **`InoneController`**: iNone系统集成。
    *   `/api/v1/inone/queryWorkitems`: 查询iNone工作项。
*   **`MetricCollectorController`**: 埋点数据收集。
    *   `/api/v1/metric`: 接收并存储前端上报的用户行为数据。
*   **`MsgNoticeController`**: 消息通知。
    *   `/api/v1/msg-notice/**`: 保存、查询、读取消息。
*   **`PlantController`**: PlantUML图像服务。
    *   `/api/v1/plants/generate`: 生成UML图。
    *   `/api/v1/plants/{id}`: 获取已生成的UML图。
*   **`PluginController`**: 插件管理。
    *   `/api/v1/plugin/updateCheck`: 检查插件版本更新。
*   **`PromptTemlateController`**: Prompt模板管理 (管理员)。
    *   `/api/v1/promptTemplate/**`: 对Prompt模板进行增删改查。
*   **`RepoController`**: 代码仓库信息管理 (管理员)。
    *   `/api/v1/repo/**`: 对仓库信息进行增删改查。
*   **`TraceController`**: 链路追踪。
    *   `/api/v1/trace/reportTrace`: 已废弃的上报接口。
